# =======================================
# CarStoreView - .env.example (COMPLETO)
# =======================================
# Este arquivo serve como template ÚNICO para:
# 1) Rodar localmente (variáveis da aplicação)
# 2) Criar GitHub Secrets via script (CI/CD + Deploy EC2 + SonarCloud)
#
# Uso:
#   cp .env.example .env
#   ./import-secrets.sh   # envia tudo como GitHub Secrets (gh)
#
# Observação:
# - Valores aqui são exemplos. Ajuste antes de usar em ambientes reais.
# - Para CI/CD, estas chaves devem estar como Secrets do repositório no GitHub.

# ---------------------------------------
# (A) Aplicação - Runtime
# ---------------------------------------
SERVER_PORT=8081

DB_URL=jdbc:postgresql://localhost:5433/carstore_view
DB_USER=view_user
DB_PASS=view_pass

FLYWAY_ENABLED=true
JPA_DDL_AUTO=validate

CORE_BASE_URL=http://localhost:8080
JWT_PUBLIC_KEY_PATH=../CarStoreBack/keys/public_key.pem

# Portas publicadas (opcional, caso o docker-compose.yml use)
APP_PORT_PUBLISHED=8081
DB_PORT_PUBLISHED=5433

# ---------------------------------------
# (B) SonarCloud - Qualidade (CI)
# ---------------------------------------
# Pegue em: sonarcloud.io (My Account -> Security / Tokens)
SONAR_TOKEN=CHANGE_ME
SONAR_PROJECT_KEY=CHANGE_ME
SONAR_ORG=CHANGE_ME

# ---------------------------------------
# (C) AWS / ECR - Build & Push (CI)
# ---------------------------------------
AWS_REGION=sa-east-1

# Repositório no ECR (ex.: carstore-view)
ECR_REPOSITORY=carstore-view

# Registry do ECR (ex.: 123456789012.dkr.ecr.sa-east-1.amazonaws.com)
EC2_ECR_REGISTRY=123456789012.dkr.ecr.sa-east-1.amazonaws.com

# Credenciais (para Actions) - recomendado usar IAM com permissões mínimas
AWS_ACCESS_KEY_ID=CHANGE_ME
AWS_SECRET_ACCESS_KEY=CHANGE_ME

# ---------------------------------------
# (D) EC2 - Deploy via SSH (CD)
# ---------------------------------------
# Host/IP/DNS público da instância
EC2_HOST=CHANGE_ME

# Usuário (ex.: ubuntu / ec2-user)
EC2_USER=ubuntu

# Diretório na instância onde fica o docker-compose.yml deste serviço
EC2_APP_DIR=/opt/carstore-view

# Chave SSH privada (NÃO cole aqui se for versionar o arquivo).
# Para usar com import-secrets.sh, você pode colocar a chave em um arquivo e setar via:
#   gh secret set EC2_SSH_PRIVATE_KEY < ~/.ssh/sua-chave.pem
# Mantendo aqui como placeholder:
EC2_SSH_PRIVATE_KEY=CHANGE_ME_DO_NOT_COMMIT

# ---------------------------------------
# (E) Extras (opcional)
# ---------------------------------------
# Se seu deploy precisar de variáveis adicionais do compose/app, coloque aqui.
